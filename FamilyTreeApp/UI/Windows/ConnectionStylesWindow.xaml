<Window x:Class="FamilyTreeApp.UI.Windows.ConnectionStylesWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:xctk="http://schemas.xceed.com/wpf/xaml/toolkit"
        Title="Connection Styles" 
        Height="400" Width="450"
        WindowStartupLocation="CenterOwner"
        Background="{DynamicResource PrimaryBackgroundBrush}">
    
    <Window.Resources>
        <!-- ColorPicker Dark Style -->
        <Style TargetType="xctk:ColorPicker">
            <Setter Property="Background" Value="{DynamicResource TertiaryBackgroundBrush}"/>
            <Setter Property="Foreground" Value="{DynamicResource PrimaryTextBrush}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource BorderBrush}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="DropDownBackground" Value="{DynamicResource TertiaryBackgroundBrush}"/>
            <Setter Property="HeaderBackground" Value="{DynamicResource SecondaryBackgroundBrush}"/>
            <Setter Property="HeaderForeground" Value="{DynamicResource PrimaryTextBrush}"/>
            <Setter Property="TabBackground" Value="{DynamicResource TertiaryBackgroundBrush}"/>
            <Setter Property="TabForeground" Value="{DynamicResource PrimaryTextBrush}"/>
        </Style>
    </Window.Resources>
    
    <Grid Margin="15">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <TextBlock Grid.Row="0" 
                   Text="Customize Connection Appearance" 
                   FontSize="16" 
                   FontWeight="Bold"
                   Margin="0,0,0,15"/>
        
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <StackPanel>
                <!-- Biological Connection -->
                <GroupBox Header="Biological Parent" Margin="0,0,0,10">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="100"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        
                        <TextBlock Text="Color:" VerticalAlignment="Center"/>
                        <xctk:ColorPicker x:Name="BiologicalColor" Grid.Column="1" 
                                         SelectedColor="#00D4AA" Width="100" HorizontalAlignment="Left"
                                         SelectedColorChanged="ConnectionColor_Changed"/>
                        
                        <TextBlock Grid.Row="1" Text="Width:" VerticalAlignment="Center" Margin="0,5,0,0"/>
                        <Slider x:Name="BiologicalWidth" Grid.Row="1" Grid.Column="1" 
                                Minimum="1" Maximum="5" Value="2" Width="100" HorizontalAlignment="Left"
                                Margin="0,5,0,0" ValueChanged="ConnectionWidth_Changed"/>
                        
                        <TextBlock Grid.Row="2" Text="Style:" VerticalAlignment="Center" Margin="0,5,0,0"/>
                        <ComboBox x:Name="BiologicalStyle" Grid.Row="2" Grid.Column="1" 
                                  Width="100" HorizontalAlignment="Left" Margin="0,5,0,0"
                                  SelectionChanged="ConnectionStyle_Changed">
                            <ComboBoxItem Content="Solid" IsSelected="True"/>
                            <ComboBoxItem Content="Dashed"/>
                            <ComboBoxItem Content="Dotted"/>
                        </ComboBox>
                    </Grid>
                </GroupBox>
                
                <!-- Adopted Connection -->
                <GroupBox Header="Adopted Parent" Margin="0,0,0,10">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="100"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        
                        <TextBlock Text="Color:" VerticalAlignment="Center"/>
                        <xctk:ColorPicker x:Name="AdoptedColor" Grid.Column="1" 
                                         SelectedColor="#FFA500" Width="100" HorizontalAlignment="Left"
                                         SelectedColorChanged="ConnectionColor_Changed"/>
                        
                        <TextBlock Grid.Row="1" Text="Width:" VerticalAlignment="Center" Margin="0,5,0,0"/>
                        <Slider x:Name="AdoptedWidth" Grid.Row="1" Grid.Column="1" 
                                Minimum="1" Maximum="5" Value="2" Width="100" HorizontalAlignment="Left"
                                Margin="0,5,0,0" ValueChanged="ConnectionWidth_Changed"/>
                        
                        <TextBlock Grid.Row="2" Text="Style:" VerticalAlignment="Center" Margin="0,5,0,0"/>
                        <ComboBox x:Name="AdoptedStyle" Grid.Row="2" Grid.Column="1" 
                                  Width="100" HorizontalAlignment="Left" Margin="0,5,0,0"
                                  SelectionChanged="ConnectionStyle_Changed">
                            <ComboBoxItem Content="Solid"/>
                            <ComboBoxItem Content="Dashed" IsSelected="True"/>
                            <ComboBoxItem Content="Dotted"/>
                        </ComboBox>
                    </Grid>
                </GroupBox>
                
                <!-- Step Connection -->
                <GroupBox Header="Step Parent" Margin="0,0,0,10">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="100"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        
                        <TextBlock Text="Color:" VerticalAlignment="Center"/>
                        <xctk:ColorPicker x:Name="StepColor" Grid.Column="1" 
                                         SelectedColor="#9370DB" Width="100" HorizontalAlignment="Left"
                                         SelectedColorChanged="ConnectionColor_Changed"/>
                        
                        <TextBlock Grid.Row="1" Text="Width:" VerticalAlignment="Center" Margin="0,5,0,0"/>
                        <Slider x:Name="StepWidth" Grid.Row="1" Grid.Column="1" 
                                Minimum="1" Maximum="5" Value="2" Width="100" HorizontalAlignment="Left"
                                Margin="0,5,0,0" ValueChanged="ConnectionWidth_Changed"/>
                        
                        <TextBlock Grid.Row="2" Text="Style:" VerticalAlignment="Center" Margin="0,5,0,0"/>
                        <ComboBox x:Name="StepStyle" Grid.Row="2" Grid.Column="1" 
                                  Width="100" HorizontalAlignment="Left" Margin="0,5,0,0"
                                  SelectionChanged="ConnectionStyle_Changed">
                            <ComboBoxItem Content="Solid"/>
                            <ComboBoxItem Content="Dashed"/>
                            <ComboBoxItem Content="Dotted" IsSelected="True"/>
                        </ComboBox>
                    </Grid>
                </GroupBox>
                
                <!-- Partner Connection -->
                <GroupBox Header="Partner" Margin="0,0,0,10">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="100"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        
                        <TextBlock Text="Color:" VerticalAlignment="Center"/>
                        <xctk:ColorPicker x:Name="PartnerColor" Grid.Column="1" 
                                         SelectedColor="#FF69B4" Width="100" HorizontalAlignment="Left"
                                         SelectedColorChanged="ConnectionColor_Changed"/>
                        
                        <TextBlock Grid.Row="1" Text="Width:" VerticalAlignment="Center" Margin="0,5,0,0"/>
                        <Slider x:Name="PartnerWidth" Grid.Row="1" Grid.Column="1" 
                                Minimum="1" Maximum="5" Value="2" Width="100" HorizontalAlignment="Left"
                                Margin="0,5,0,0" ValueChanged="ConnectionWidth_Changed"/>
                        
                        <TextBlock Grid.Row="2" Text="Style:" VerticalAlignment="Center" Margin="0,5,0,0"/>
                        <ComboBox x:Name="PartnerStyle" Grid.Row="2" Grid.Column="1" 
                                  Width="100" HorizontalAlignment="Left" Margin="0,5,0,0"
                                  SelectionChanged="ConnectionStyle_Changed">
                            <ComboBoxItem Content="Solid" IsSelected="True"/>
                            <ComboBoxItem Content="Dashed"/>
                            <ComboBoxItem Content="Dotted"/>
                        </ComboBox>
                    </Grid>
                </GroupBox>
            </StackPanel>
        </ScrollViewer>
        
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,15,0,0">
            <Button Content="Reset to Defaults" Width="120" Margin="0,0,10,0" Click="ResetDefaults_Click"/>
            <Button Content="Close" Width="80" Click="Close_Click"/>
        </StackPanel>
    </Grid>
</Window>
