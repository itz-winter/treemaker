<Window x:Class="FamilyTreeApp.UI.Windows.ColorsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:xctk="http://schemas.xceed.com/wpf/xaml/toolkit"
        Title="Color Customization" 
        Height="450" Width="400"
        WindowStartupLocation="CenterOwner"
        Background="{DynamicResource PrimaryBackgroundBrush}">
    
    <Window.Resources>
        <!-- ColorPicker Dark Style -->
        <Style TargetType="xctk:ColorPicker">
            <Setter Property="Background" Value="{DynamicResource TertiaryBackgroundBrush}"/>
            <Setter Property="Foreground" Value="{DynamicResource PrimaryTextBrush}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource BorderBrush}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="DropDownBackground" Value="{DynamicResource TertiaryBackgroundBrush}"/>
            <Setter Property="HeaderBackground" Value="{DynamicResource SecondaryBackgroundBrush}"/>
            <Setter Property="HeaderForeground" Value="{DynamicResource PrimaryTextBrush}"/>
            <Setter Property="TabBackground" Value="{DynamicResource TertiaryBackgroundBrush}"/>
            <Setter Property="TabForeground" Value="{DynamicResource PrimaryTextBrush}"/>
        </Style>
    </Window.Resources>
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- Header -->
        <TextBlock Grid.Row="0" Text="Color Customization" FontSize="20" FontWeight="Bold" Margin="16"/>
        
        <!-- Colors Content -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <Grid Margin="16,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="120"/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                
                <!-- Section Header -->
                <TextBlock Grid.Row="0" Grid.ColumnSpan="2" Text="Node Colors" 
                           FontWeight="Bold" FontSize="14" Foreground="{DynamicResource SecondaryTextBrush}"/>
                <Border Grid.Row="0" Grid.ColumnSpan="2" BorderBrush="{DynamicResource BorderBrush}" 
                        BorderThickness="0,0,0,1" Margin="0,24,0,8"/>
                
                <TextBlock Grid.Row="1" Grid.Column="0" Text="Node Fill" Margin="0,8"/>
                <xctk:ColorPicker Grid.Row="1" Grid.Column="1" x:Name="NodeFillPicker" 
                                  ShowStandardColors="False" Width="100" Height="28"/>
                
                <TextBlock Grid.Row="2" Grid.Column="0" Text="Node Border" Margin="0,8"/>
                <xctk:ColorPicker Grid.Row="2" Grid.Column="1" x:Name="NodeBorderPicker" 
                                  ShowStandardColors="False" Width="100" Height="28"/>
                
                <TextBlock Grid.Row="3" Grid.Column="0" Text="Node Text" Margin="0,8"/>
                <xctk:ColorPicker Grid.Row="3" Grid.Column="1" x:Name="NodeTextPicker" 
                                  ShowStandardColors="False" Width="100" Height="28"/>
                
                <!-- Canvas Section -->
                <TextBlock Grid.Row="4" Grid.ColumnSpan="2" Text="Canvas Colors" 
                           FontWeight="Bold" FontSize="14" Foreground="{DynamicResource SecondaryTextBrush}" Margin="0,16,0,0"/>
                <Border Grid.Row="4" Grid.ColumnSpan="2" BorderBrush="{DynamicResource BorderBrush}" 
                        BorderThickness="0,0,0,1" Margin="0,24,0,8"/>
                
                <TextBlock Grid.Row="5" Grid.Column="0" Text="Background" Margin="0,8"/>
                <xctk:ColorPicker Grid.Row="5" Grid.Column="1" x:Name="CanvasBackgroundPicker" 
                                  ShowStandardColors="False" Width="100" Height="28"/>
                
                <TextBlock Grid.Row="6" Grid.Column="0" Text="Grid Lines" Margin="0,8"/>
                <xctk:ColorPicker Grid.Row="6" Grid.Column="1" x:Name="GridColorPicker" 
                                  ShowStandardColors="False" Width="100" Height="28"/>
                
                <!-- Connection Colors -->
                <TextBlock Grid.Row="7" Grid.ColumnSpan="2" Margin="0,24,0,0">
                    <Run Text="For connection line colors, use " Foreground="{DynamicResource SecondaryTextBrush}"/>
                    <Hyperlink x:Name="ConnectionStylesLink" Click="ConnectionStylesLink_Click" 
                               Foreground="{DynamicResource AccentBrush}">
                        <Run Text="View â†’ Connection Styles"/>
                    </Hyperlink>
                </TextBlock>
            </Grid>
        </ScrollViewer>
        
        <!-- Buttons -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="8">
            <Button x:Name="RestoreDefaultsButton" Content="Restore Defaults" Click="RestoreDefaults_Click" Margin="0,0,8,0"/>
            <Button x:Name="SaveButton" Content="Save" Click="Save_Click" Margin="0,0,8,0"/>
            <Button x:Name="CancelButton" Content="Cancel" Click="Cancel_Click"/>
        </StackPanel>
    </Grid>
</Window>